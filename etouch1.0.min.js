!function(a,b){function c(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"left":"right":c-d>0?"up":"down"}function d(a,b,c,d){function f(a,b,c){var e,d=a[0].querySelectorAll(b);for(e=0;e<d.length;e++)if(d[e]==c)return!0}if("string"==typeof c)a[0].addEventListener(b,function(b){for(var e=b.target,g=b.currentTarget,h=!0;h&&e!=g;)f(a,c,e)&&(h=d.call(e,b)),e=e.parentNode;return h},!1);else for(var e=0;e<a.length;e++)a[e].addEventListener(b,d,!1)}function e(a,c){return this.root=document.querySelectorAll(a),this.root?(this.target={el:null,w:null,h:null},this.touchObj={status:"",pageX:0,pageY:0,clientX:0,clientY:0,distanceX:0,distanceY:0},this.isTap=!1,this.time=0,this.selector=c,this.Event=[],this.count=0,this.p=0,this.clock=null,arguments[2]==b?(this.operate(arguments[1]),String(arguments[1]).indexOf("e.clock")>1&&(this.clock=!1)):(this.operate(arguments[2]),String(arguments[2]).indexOf("e.clock")>1&&(this.clock=!1)),void 0):(console.log("root不存在"),void 0)}function f(a,b,c){c.init();var d=a.touches[0];b.pageX=d.pageX,b.pageY=d.pageY,b.clientX=d.clientX,b.clientY=d.clientY,c.time=+new Date}function g(a,b,c,d){var f,g,h,i,j,e=a.touches[0];c.status="swiper",c.distanceX=e.pageX-c.pageX,c.distanceY=e.pageY-c.pageY,d.count++,d.p=d.p+.5*c.distanceY*c.distanceY/c.distanceX,f=d.p/d.count,g=2/3*2*f*c.distanceX*Math.sqrt(2*f*c.distanceX),h=b.h,i=b.w,j=0,j=h/i>.1405?2/3*.0197*Math.abs(c.distanceX)*i*Math.sqrt(.0197*Math.abs(c.distanceX)*i):2/3*(h*h*Math.abs(c.distanceX)/i)*Math.sqrt(h*h*Math.abs(c.distanceX)/i),0==d.clock&&(a.preventDefault(),d.trigger(c.status,a,c)),j>g&&(a.preventDefault(),d.trigger(c.status,a,c))}function h(a,b,d,e,f){var i,j,k,l,g=a.changedTouches[0],h=+new Date-e.time;d.distanceX=g.pageX-d.pageX,d.distanceY=g.pageY-d.pageY,i=d.pageX,j=d.pageX+d.distanceX,k=d.pageY,l=d.pageY+d.distanceY,d.status=c(i,j,k,l),150>h&&Math.abs(d.distanceX)<30&&Math.abs(d.distanceY)<30?(e.isTap=!0,e.isTap&&(d.status="tap",setTimeout(function(){e.isTap=!1,f.call(b,a,d)},150))):e.trigger(d.status,a,d),e.count=0,e.p=0}e.prototype.init=function(){this.touchObj.distanceX=0,this.touchObj.distanceY=0},e.prototype.operate=function(a){var b=this.touchObj,e=(this.isTap,this);return d(this.root,"touchstart",this.selector,function(a){e.target.el=this,e.target.w=this.getBoundingClientRect().width,e.target.h=this.getBoundingClientRect().height,f(a,b,e)}),d(this.root,"touchmove",this.selector,function(a){g(a,e.target,b,e)}),d(this.root,"touchend",this.selector,function(c){h(c,this,b,e,a)}),this},e.prototype.trigger=function(a,b){for(var c=0;c<this.Event.length;c++)this.Event[c].type==a&&this.Event[c].method.call(this.target.el,b,this.touchObj);return this},e.prototype.on=function(a,b){return this.Event.push({type:a,method:b}),this},"function"==typeof define&&(define.amd||define.cmd)?define(function(){return e(root,selector,fn)}):a.etouch=function(a,b,c){return new e(a,b,c)}}(window,void 0);